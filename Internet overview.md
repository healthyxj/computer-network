Internet概述

# 一、具体构成描述

网络由若干节点和连接这些节点的链路组成。互联网是网络的网络，因特网是最大的互联网。

因特网发展的三个阶段：

* 单个ARPANET向互联网发展的过程：TCP/IP协议成为ARPANET上的标准协议，1983年是因特网的诞生时间。
* 建成了三级结构的因特网：主干网(电信、移动等)、地区网、校园网(企业网)
* 多层次ISP阶段：有互联网服务提供商、因特网交换点

什么是因特网？回答问题的方式有两种：能够描述因特网的具体构成，即**构成因特网的基本硬件和软件**；能够**根据为分布式应用提供服务的联网基础设施来描述互联网**

## 1、具体构成描述

具体构成描述来说，<b>互联网是由有通信能力的设备连接而成的</b>。电脑这些设备称为主机or端系统。**端系统通过通信链路和分组交换机连接到一起。**当一台端系统向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。以此形成的信息包用计算机网络的术语来说是分组。分组被发送到目的端系统后，在那里被装配成初始数据。分组交换机从它的一条入通信链路接受到达的分组，并从一条出链路转发该分组。

**分组交换机主要包括路由器和链路层分组交换机**。<b>链路层分组交换机接入到网络中，而路由器处于网络核心。</b>从发送端到接收端系统，一个分组经过的一系列通信链路和分组交换机称为路径。

<b>端系统通过互联网服务提供商接入到互联网中</b>。每个ISP都是由多台分组交换机和多段通信链路组成的网络。ISP为端系统提供因特网接入服务，如DSL住宅宽带接入、高速局域网接入和移动无线接入。ISP也为内容提供者直接连入因特网，如web站点和视频服务器直接连入因特网。ISP也是互联的，较低层级的ISP通过国家国际级的ISP连接。不同层级的ISP都是分别独自管理的。

IP协议定义了在路由器和端系统之间发送和接受的分组格式。

因特网标准是由因特网工程任务组(IETF)研发。IETF的标准文档为请求评论(RFC)

## 2、服务描述

<b>涉及到多个相互交换数据的端系统，称为分布式应用程序。因特网的应用程序运行在端系统上，并不是运行在网络核心的分组交换机中</b>。套接字接口规定了运行在一个端系统上的程序请求因特网基础设施向运行在另一个端系统上的特定目的地程序交付数据的方式。即**套接字接口是一套发送程序必须遵循的规则集合。**

## 3、协议

类比于人类活动，比如对话，你好，你好，几点了，十点了；或者老师询问同学有什么问题时，同学举起手，老师允许学生提问，学生提问。在因特网中，涉及到两个或多个远程通信实体的所有活动都受协议的制约。协议定义了两个或多个通信实体之间交换的报文的格式和顺序，以及报文发送和接收一条报文或其他事件所采取的动作。

熟悉的协议：计算机向Web服务器发送一条连接请求报文，并等待回答。web服务器将最终能接收到连接请求报文，并返回一条连接响应报文。得知请求该web文档正常以后，计算机在一条get报文中发送要从这台web服务器上取回的网页的名字。最后，web服务器向计算机返回该web网页。

# 二、网络边缘

## 接入网

<b>接入网是将端系统物理连接到边缘路由器的网络</b>。边缘路由器是端系统到任何其它远程端系统的路径上的<b>第一台路由器</b>。

### 1、家庭接入

宽带住宅入户有两种最流行的类型：数字用户线和电缆。

#### a、数字用户线(DSL)-双绞铜线

住户通常<b>从提供本地电话接入的本地电话公司处获得DSL因特网接入</b>。使用DSL时，用户的本地电话公司就是他的ISP。

**每个用户的DSL调制解调器使用现有的电话线（双绞铜线）与位于电话公司中心局中的数字用户接入复用器(DSLAM)交换数据**。家庭的DSL调制解调器得到数字数据后将其转化为高频音，以通过电话线传输给本地中心局。

家庭电话线同时承担了数据和电话信号，用不同的频率进行编码：<b>高速下行信道(50kHz-1MHz),中速上行信道(4kHz-50kHz),普通的双向电话信道(0-4kHz)</b>。一个电话呼叫和一个因特网连接能够同时共享DSL线路。用户一侧，一个分配器把到达家庭的数据信号和电话信号隔开，并将数据信号转发给DSL调制解调器。而**电话公司一侧，本地中心局，DSLAM将数据和电话信号分开，将数据送到因特网中**。

DSL定义了多个传输速率，包括12Mbps下行和1.8Mbps上行传输速率（1999）和55Mbps下行和15Mbps上行传输速率（2006），上行和下行的速率不等，因此这种接入为<b>非对称</b>的。因为家庭与本地中心局之间的距离、双绞线的规格和电气干扰的程度使最大速率受到限制。

#### b、电缆因特网接入(cable internet access)-混合光纤(HFC)

电缆因特网接入利用了有线电视公司现有的有线电视基础设施。<b>住宅从提供有线电视的公司获得了电缆因特网接入</b>。

光缆将电缆头端接到地区枢纽，从这里使用传统的同轴电缆到达各家各户。使用的是光纤和同轴电缆，也称混和光纤同轴电缆系统。电缆因特网接入需要特殊的调制解调器，为电缆调制解调器，通过一个以太网端口连接到家庭PC。电缆头端的电缆调制解调器端接系统(cable modem termination system，CMTS)与DSLAM有类似的功能。

电缆因特网接入的重要特征是**共享广播媒体。由头端发送的每个分组向下行经每段链路到每个家庭，每个家庭发送的每个分组经上行信道向头端传输。**

```
共享广播媒体意味着如果几个用户同时经下行信道下载一个视频文件，每个用户接收视频文件的实际速率将大大低于电缆总计的下行速率。
```

####  c、光纤到户(Fiber To The Home,FFTH)

新兴的技术是光纤到户。<b>每根光纤由许多家庭共享，直到相对接近这些家庭的位置，光纤才分成每户一根</b>。

光纤的分配有两种竞争性的光线分布体系结构：主动光纤网络(AON)和被动光纤网络(PON)。

PON体系中，<b>每个家庭有一个光纤网络端接器(ONT)</b>，由专门的光纤连接到临近的分配器。该分配器把一些家庭集结到一根共享的光纤，该光纤再连接到本地电话公司和公司的<b>中心局中的光纤线路端接器（OLT）</b>。OLT提供了光信号和电信号之间的转换。在PON体系中，所有从OLT发送到分配器的分组在分配器处复制。

### 2、企业（和家庭）接入

用**局域网**将端系统连接到边缘路由器。<b>以太网是目前公司、大学和家庭网络最为流行的接入技术</b>。

此外，基于IEEE802.11技术的无线LAN接入，俗称WIFI，几乎无处不在。

### 3、广域无线接入

3G和LTE iphone和安卓<b>应用了与蜂窝移动电话相同的无线基础设施，通过蜂窝网提供商运营的基站来发送和接收分组</b>。

**与WIFI不同，一名用户只需位于基站的几万米之内。**

## 物理媒体

<b>HFC使用光缆和同轴电缆；DSL和以太网使用双绞铜线；移动接入网络使用无线电频谱</b>；

```
如何定义媒体表示的内容，可以通过思考一个比特的历程。
一个比特从一个端系统开始传输，通过一系列链路和路由器，到达另一个端系统。中间的链路和路由器就是一个发射器-接收器对，对于每一个发射器-接收器对，就跨越了一种物理媒体，物理媒体能够传播电磁波或光脉冲来发送那个比特。
```

物理媒体包括双绞铜线、同轴电缆、多模光纤电缆、陆地无线电频谱和卫星无线电频谱。<b>物理媒体分为两种类型:导引型媒体和非导引型媒体</b>。导引型媒体，电波沿着固体媒体前行，如**光缆、双绞铜线、同轴电缆**。非引导型媒体，电波在空气或外层空间中传播，如**无线局域网或数字卫星频道**。

### 1、双绞铜线

 最便宜并且最常用的导引型传输媒体是双绞铜线。 双绞线是由两根绝缘的铜线组成，以规则的螺旋状排列，两根线被绞合起来，一减少临近类似的双绞线上的电气干扰。许多双绞线捆扎在一起形成了一个通信链路。<b>无屏蔽双绞线(UTP)常用于建筑物内的计算机网络中，即局域网中</b>。

双绞铜线的数据传输速率取决于线的粗细以及传输方和接收方之间的距离。

### 2、同轴电缆

同轴电缆由两个同心的铜导体组成。

同轴电缆能够被用作导引型<b>共享</b>媒体。许多端系统能够直接与该电缆相连，每个端系统都能够接收由其他端系统发送的内容。

### 3、光纤

光纤细而柔软，能导引光脉冲，每个脉冲表示一个比特。

特点：速率高、不受电磁干扰、衰减极低

用作因特网的主干

### 4、陆地无线电信道

无线电信道承载电磁频谱中的信号。

环境上考虑路径损耗和遮挡衰落、多径衰落、干扰。大致划分为三类：一类运行在很短距离(1米或2米)；一类运行在局域，跨越数十到数百米；第三类运行在广域，跨越数万米。

# 三、网络核心

## 分组交换

端系统彼此交换报文(message),为了从源端系统向目的端系统发送报文，源将长报文划分成较小的数据段，为分组。

交换机主要有路由器和链路层交换机。

### 存储转发传输

交换机能够开始向输出链路传输该分组的第一个比特之前，必须先接收到整个分组。因此有缓存，存储分组的比特。

通过N条速率为R的链路组成的路径，即有N-1台路由器，端到端的时延：N*L/R

### 排队时延和分组丢失

分组交换机有输出缓存output buffer，也叫输出队列output queue。

如果到达的分组发现缓存已经被等待传输的分组完全充满，就会发生分组丢失(丢包)。

### 转发表和路由选择协议

当一个分组到达网络中的路由器，路由器检查该分组的目的地址的一部分，并向一台相邻路由器转发该分组。路由器内部有转发表。

路由器有路由选择协议，用于自动设置这些转发表。

## 电路交换

电路交换能够<b>预留端系统间沿路径通信所需要的资源</b>(缓存，链路传输速率)。当两台主机要通信时，网络会在两台主机之间创建一条专用的端到端连接。如果有4条链路，就只能获得总传输容量的1/4.



局域网 每台主机都有标识符。 多数局域网采用智能连接交换机，能识别数据包的目的地址并引导该数据包到达它的目的地。交换机减轻了局域网的流量。 广域网 局域网互联主机；广域网互联交换机、路由器、调制解调器等连接设备。

分类： 点到点广域网 通过传输介质（电缆或大气）连接两个通信设备 交换式广域网 由交换机连接几个点到点的广域网

互联网络

交换 分类： 电路交换网络 通过一条专用的连接（电路）连接两个端系统。

只有占用全部容量时，才有高效率。多数时间，仅占用部分容量，效率低下。

分组交换网络 两个端点之间用分组（称为数据块）进行交换。两台计算机之间交换的是独立的数据分组。 分组交换网络中的路由器有能存储和转发分组的队列。 效率高，但是会有延迟（全部交换的情况下） internet

internet主要有客户端、互联网服务提供商、主干 访问internet 使用电话网络 把居民和小公司到电话中心的语音线路转换成点到点的广域网。实现方式有拨号服务和DSL服务。 拨号服务增加了能将数据转换成语音的调制解调器，但是速度慢。 DSL服务允许语音和数据通信同时进行

使用有线电视网络 速率与使用同一电缆的用户数有关

采用无线网络

直接连接到internet 大机构和大公司自己本身可以变为ISP连入internet 3、协议分层 协议定义了发送者、接收者和所有中间设备为高效通信需遵循的规则。 通信复杂时，需要把任务划分到不同层。 协议分层允许将复杂的任务分成几个小的简单的任务。 模块化意味着独立的层次。一个模块可以看成有输入和输出的黑盒子。 给定相同的输入，两台机器能提供相同的输出，则这两台机器可以互换。

原则 如果想要双向通信，每一层能够实现两个相反的任务。 两端每一层中的两个对象应相同。 TCP/IP协议簇

层次化结构

每个局域网有链路层交换机。 源主机在应用层创建一个信息并把它发送到下层，把该信息物理上发送到目的主机。目的主机在物理层接受这个信息，然后通过其他层投递到应用层。 上述包含了5个层次 路由器涉及了3层：一个路由器总是拥有一个网络层，但是它涉及n个数据链路层和物理层的组合，使得每一个链路可以使用它自己的数据链路层或物理层。 一条链路上的交换机只涉及两个层次：物理层和数据链路层。 TCP/IP中的层次 应用层、传输层和网络层的任务是端到端的，数据链路层和物理层的任务是点到点的。即高三层的任务是互联网，低两层的任务是链路。 应用层 应用层的通信处于两个进程之间。为了进行通信，一个进程向另一个进程发送请求，并且接受另一个进程的响应。



三种主要网络

电信网络(电话网)；有线电视网络；计算机网络

电话-电视-计算机

ARPANET早期的计算机网络。

计算机网络的功能

连通性

共享性
